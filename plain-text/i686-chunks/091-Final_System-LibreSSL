# Final System: LibreSSL 2.9.2
# This section is done in Chroot environment
# Source: https://ftp.openbsd.org/pub/OpenBSD/LibreSSL/libressl-2.9.2.tar.gz
# If building Rustc-1.28.0, use LibreSSL-2.7.5 instead

patch -Np0 -i ../patches/libressl-2.9.2-void-fail-instead-of-trying-fallback.patch
# restore non-glibc support:
patch -Np1 -i ../patches/libressl-2.9.2-gentoo-musl.patch

./config --prefix=/usr       \
            --with-openssldir=/etc/ssl --disable-hardening

make && make install 
