# ct:		linux 5.2.17 headers

# 0.0 >> re-export dirs since we've changed sessions
export patchdir="${MLFS}/mss/work/patches"
export saucedir="${MLFS}/mss/work/sources"
export filesdir="${MLFS}/mss/work/files"

# 0.1 >> export makeflags for them speeds
export MAKEFLAGS="-j 3"

# 1
make mrproper

# 2 >> apply the libre patchset.
patch -p1 < "${patchdir}"/linux-5.2.17/5.2-deblob-gnu.patch

# 3
make INSTALL_HDR_PATH=dest headers_install

# 4 >> remove unnecessary hidden files
find dest/include \( -name .install -o -name ..install.cmd \) -delete

# 5
cp -rv dest/include/* /usr/include
